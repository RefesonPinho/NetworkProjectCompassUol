{"architecture":"amd64","config":{"Hostname":"","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"ExposedPorts":{"3306/tcp":{},"33060/tcp":{}},"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","GOSU_VERSION=1.14","MYSQL_MAJOR=5.7","MYSQL_VERSION=5.7.39-1.el7","MYSQL_SHELL_VERSION=8.0.30-1.el7"],"Cmd":["mysqld"],"Image":"sha256:77692886646f703efbb9e41b8fff1b739f97c67b99e2edea8f77d733ff9ab98c","Volumes":{"/var/lib/mysql":{}},"WorkingDir":"","Entrypoint":["docker-entrypoint.sh"],"OnBuild":null,"Labels":null},"container":"58a46393591a1181c69c02b24271b14618e5e7f72f04d5a138997ed80a9ed81c","container_config":{"Hostname":"58a46393591a","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"ExposedPorts":{"3306/tcp":{},"33060/tcp":{}},"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","GOSU_VERSION=1.14","MYSQL_MAJOR=5.7","MYSQL_VERSION=5.7.39-1.el7","MYSQL_SHELL_VERSION=8.0.30-1.el7"],"Cmd":["/bin/sh","-c","#(nop) ","CMD [\"mysqld\"]"],"Image":"sha256:77692886646f703efbb9e41b8fff1b739f97c67b99e2edea8f77d733ff9ab98c","Volumes":{"/var/lib/mysql":{}},"WorkingDir":"","Entrypoint":["docker-entrypoint.sh"],"OnBuild":null,"Labels":{}},"created":"2022-07-26T23:29:33.29397522Z","docker_version":"20.10.12","history":[{"created":"2022-07-05T22:20:58.311385535Z","created_by":"/bin/sh -c #(nop) ADD file:50fb7d83a9d57e5a0a6af5e5daf27e464ae8a28c196ce6bad6c254dfc1774cdd in / "},{"created":"2022-07-05T22:20:58.767376715Z","created_by":"/bin/sh -c #(nop)  CMD [\"/bin/bash\"]","empty_layer":true},{"created":"2022-07-13T06:46:23.87043813Z","created_by":"/bin/sh -c set -eux; \tgroupadd --system --gid 999 mysql; \tuseradd --system --uid 999 --gid 999 --home-dir /var/lib/mysql --no-create-home mysql"},{"created":"2022-07-13T06:46:23.9673492Z","created_by":"/bin/sh -c #(nop)  ENV GOSU_VERSION=1.14","empty_layer":true},{"created":"2022-07-13T06:46:26.650361913Z","created_by":"/bin/sh -c set -eux; \tarch=\"$(uname -m)\"; \tcase \"$arch\" in \t\taarch64) gosuArch='arm64' ;; \t\tx86_64) gosuArch='amd64' ;; \t\t*) echo \u003e\u00262 \"error: unsupported architecture: '$arch'\"; exit 1 ;; \tesac; \tcurl -fL -o /usr/local/bin/gosu.asc \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$gosuArch.asc\"; \tcurl -fL -o /usr/local/bin/gosu \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$gosuArch\"; \texport GNUPGHOME=\"$(mktemp -d)\"; \tgpg --batch --keyserver hkps://keys.openpgp.org --recv-keys B42F6819007F00F88E364FD4036A9C25BF357DD4; \tgpg --batch --verify /usr/local/bin/gosu.asc /usr/local/bin/gosu; \trm -rf \"$GNUPGHOME\" /usr/local/bin/gosu.asc; \tchmod +x /usr/local/bin/gosu; \tgosu --version; \tgosu nobody true"},{"created":"2022-07-13T06:46:48.319399438Z","created_by":"/bin/sh -c set -eux; \tyum install -y --setopt=skip_missing_names_on_install=False oracle-epel-release-el7; \tyum install -y --setopt=skip_missing_names_on_install=False \t\tbzip2 \t\tgzip \t\topenssl \t\txz \t\tzstd \t; \tyum clean all"},{"created":"2022-07-13T06:46:49.267908126Z","created_by":"/bin/sh -c set -eux; \tkey='859BE8D7C586F538430B19C2467B942D3A79BD29'; \texport GNUPGHOME=\"$(mktemp -d)\"; \tgpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\"; \tgpg --batch --export --armor \"$key\" \u003e /etc/pki/rpm-gpg/RPM-GPG-KEY-mysql; \trm -rf \"$GNUPGHOME\""},{"created":"2022-07-13T06:46:49.360999439Z","created_by":"/bin/sh -c #(nop)  ENV MYSQL_MAJOR=5.7","empty_layer":true},{"created":"2022-07-26T23:28:50.752811943Z","created_by":"/bin/sh -c #(nop)  ENV MYSQL_VERSION=5.7.39-1.el7","empty_layer":true},{"created":"2022-07-26T23:28:51.381042335Z","created_by":"/bin/sh -c set -eu; \t. /etc/os-release; \t{ \t\techo '[mysql5.7-server-minimal]'; \t\techo 'name=MySQL 5.7 Server Minimal'; \t\techo 'enabled=1'; \t\techo \"baseurl=https://repo.mysql.com/yum/mysql-5.7-community/docker/el/${VERSION_ID%%[.-]*}/\\$basearch/\"; \t\techo 'gpgcheck=1'; \t\techo 'gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql'; \t\techo 'module_hotfixes=true'; \t} | tee /etc/yum.repos.d/mysql-community-minimal.repo"},{"created":"2022-07-26T23:29:09.66818604Z","created_by":"/bin/sh -c set -eux; \tyum install -y --setopt=skip_missing_names_on_install=False \"mysql-community-server-minimal-$MYSQL_VERSION\"; \tyum clean all; \tgrep -F 'socket=/var/lib/mysql/mysql.sock' /etc/my.cnf; \tsed -i 's!^socket=.*!socket=/var/run/mysqld/mysqld.sock!' /etc/my.cnf; \tgrep -F 'socket=/var/run/mysqld/mysqld.sock' /etc/my.cnf; \t{ echo '[client]'; echo 'socket=/var/run/mysqld/mysqld.sock'; } \u003e\u003e /etc/my.cnf; \t\t! grep -F '!includedir' /etc/my.cnf; \t{ echo; echo '!includedir /etc/mysql/conf.d/'; } \u003e\u003e /etc/my.cnf; \tmkdir -p /etc/mysql/conf.d; \t{ echo '!includedir /etc/mysql/mysql.conf.d/'; } \u003e\u003e /etc/my.cnf; \tmkdir -p /etc/mysql/mysql.conf.d; \t\tfind /etc/my.cnf /etc/mysql/ -name '*.cnf' -print0 \t\t| xargs -0 grep -lZE '^(bind-address|log)' \t\t| xargs -rt -0 sed -Ei 's/^(bind-address|log)/#\u0026/'; \t\tmkdir -p /var/lib/mysql /var/run/mysqld; \tchown mysql:mysql /var/lib/mysql /var/run/mysqld; \tchmod 1777 /var/lib/mysql /var/run/mysqld; \t\tmkdir /docker-entrypoint-initdb.d; \t\tmysqld --version; \tmysql --version"},{"created":"2022-07-26T23:29:10.36342953Z","created_by":"/bin/sh -c set -eu; \t. /etc/os-release; \t{ \t\techo '[mysql-tools-community]'; \t\techo 'name=MySQL Tools Community'; \t\techo \"baseurl=https://repo.mysql.com/yum/mysql-tools-community/el/${VERSION_ID%%[.-]*}/\\$basearch/\"; \t\techo 'enabled=1'; \t\techo 'gpgcheck=1'; \t\techo 'gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql'; \t\techo 'module_hotfixes=true'; \t} | tee /etc/yum.repos.d/mysql-community-tools.repo"},{"created":"2022-07-26T23:29:10.460438388Z","created_by":"/bin/sh -c #(nop)  ENV MYSQL_SHELL_VERSION=8.0.30-1.el7","empty_layer":true},{"created":"2022-07-26T23:29:31.505951653Z","created_by":"/bin/sh -c set -eux; \tyum install -y --setopt=skip_missing_names_on_install=False \"mysql-shell-$MYSQL_SHELL_VERSION\"; \tyum clean all; \t\tmysqlsh --version"},{"created":"2022-07-26T23:29:32.274637685Z","created_by":"/bin/sh -c #(nop)  VOLUME [/var/lib/mysql]","empty_layer":true},{"created":"2022-07-26T23:29:32.4043039Z","created_by":"/bin/sh -c #(nop) COPY file:d27cf504fa76fb5a4038020a01eaaf52723b17b751566119de311adacb043752 in /usr/local/bin/ "},{"created":"2022-07-26T23:29:32.974034339Z","created_by":"/bin/sh -c ln -s usr/local/bin/docker-entrypoint.sh /entrypoint.sh # backwards compat"},{"created":"2022-07-26T23:29:33.082430967Z","created_by":"/bin/sh -c #(nop)  ENTRYPOINT [\"docker-entrypoint.sh\"]","empty_layer":true},{"created":"2022-07-26T23:29:33.188527549Z","created_by":"/bin/sh -c #(nop)  EXPOSE 3306 33060","empty_layer":true},{"created":"2022-07-26T23:29:33.29397522Z","created_by":"/bin/sh -c #(nop)  CMD [\"mysqld\"]","empty_layer":true}],"os":"linux","rootfs":{"type":"layers","diff_ids":["sha256:9ba403017e5ec778c95a5c4673f9d9c36ddf94e30fcb47959142a9e89d6606ea","sha256:06faad6703234f4703ccdd881ba9bd1c265bbfc8074a23ef7a96b460fc1dba26","sha256:8bb6fe262c74ef6a663f368f175baa51f94aa404e9493ddaf12130a3d960cb99","sha256:ccd072bb37ba9e29601a38ae90f5c1a2d004eff815858508cba3ff0566fb2276","sha256:2d29a29a59c8171ecbf71dfc24e577611766d4af56fe005f817f9ef80213b849","sha256:38e0a071d2417b7577b56bdf10d3e5c81f9bf5ce267e4df455f5c12eaf2d91d2","sha256:d6562e20786207f611022d9ce18dea65f4daf2ddb19f7888321882d491a2a0ac","sha256:56a20a36e019bdd86084de05de8c226de5ff04f75e4c92aa12460094dc8b9ac8","sha256:5df52d1db994a2c679bf66da5d6a78c5d23ea7f65a417e7c1ab5ad36aa11372e","sha256:eb13f0d8fb2a82ceac11547e680c7598fa2ec12a7d05b301ee77da4a398ed118","sha256:d0039a7b82bedab828ae07a729e3c53f3e0a4d118c4a25857c21c2f0e9813b99"]}}